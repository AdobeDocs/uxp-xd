"use strict";(self.webpackChunkuxp_xd=self.webpackChunkuxp_xd||[]).push([[3920],{73531:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return m},default:function(){return p}});var a=t(87462),o=t(63366),r=(t(15007),t(64983)),d=t(91515),l=["components"],m={},s={_frontmatter:m},i=d.Z;function p(e){var n=e.components,t=(0,o.Z)(e,l);return(0,r.mdx)(i,(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"selection"},"selection"),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Kind"),": object"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"selection")," object represents the currently selected set of nodes in the UI. You can change the selection to use it as input\nfor ",(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/reference/commands/"},"commands"),", or to control what is left selected for the user when your plugin's edit operation completes."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Selected items might not all have the same parent node.")," For example, the selection could be split between two sibling\nGroup nodes, or half the selection could be inside a Group and half inside its parent. Or the selection could be split between\nmultiple different artboards along with items on the pasteboard (immediate children of the root node)."),(0,r.mdx)("p",null,'Your plugin can only modify nodes in the "neighborhood" of the user\'s selection, a subset of the scenegraph tree called the\n',(0,r.mdx)("strong",{parentName:"p"},(0,r.mdx)("em",{parentName:"strong"},(0,r.mdx)("a",{parentName:"em",href:"/uxp-xd/develop/plugin-development/xd-concepts/edit-context/"},"edit context"))),". You can only set the selection to other nodes within the edit context.\nThe edit context does not update to reflect any changes to the selection until after a plugin operation completes."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Other restrictions on selection")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The selection cannot contain both artboards and non-artboards at the same time.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The selection cannot contain both a node and one of its ancestors at the same time.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Items that are ",(0,r.mdx)("em",{parentName:"p"},"locked")," cannot be in the selection. If the user or your plugin attempts to select any locked items, they are\nautomatically filtered into a separate list (",(0,r.mdx)("a",{parentName:"p",href:"#itemsincludinglocked"},"itemsIncludingLocked"),") which is generally only used by the Unlock\ncommand."))),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Accessing the selection")),(0,r.mdx)("p",null,"The current selection state is passed to your ",(0,r.mdx)("em",{parentName:"p"},"command handler function")," as an argument:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-js"},'function myCommand(selection, documentRoot) {\n  console.log(selection.items.length + " items are selected");\n}\nmodule.exports = {\n  commands: {\n    myCommandId: myCommand,\n  },\n};\n')),(0,r.mdx)("p",null,"You can also access this object from the ",(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/reference/scenegraph/#selection"},"scenegraph.selection")," property."),(0,r.mdx)("h2",{id:"items"},"items"),(0,r.mdx)("p",null,"▸ ",(0,r.mdx)("strong",{parentName:"p"},"items"),": ",(0,r.mdx)("inlineCode",{parentName:"p"},"Array<"),(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/reference/SceneNode"},"SceneNode"),(0,r.mdx)("inlineCode",{parentName:"p"},">")),(0,r.mdx)("p",null,"Array representing the current selection. Empty array if nothing is selected (never null). ",(0,r.mdx)("em",{parentName:"p"},"Items might not all have the same\nparent node.")," Never includes locked nodes. Never mixes artboards with other nodes: a selection is either all artboards or all\nnon-artboards. Never includes any ancestors of any other item in the selection."),(0,r.mdx)("p",null,"As a convenience, the setter also accepts a single node or null as valid input. However, the getter always returns an array."),(0,r.mdx)("p",null,"If the user selects nodes one-by-one, by Shift-clicking, this array lists the nodes in the order they were added to the selection.\nIf the user selected by other means, e.g. dragging a marquee, the order has no meaning."),(0,r.mdx)("p",null,"Returns a fresh array each time, so modifying the array returned by the getter does not change the selection -- only invoking\nthe 'items' setter changes selection."),(0,r.mdx)("p",null,"The selection can only contain items which are in the current ",(0,r.mdx)("em",{parentName:"p"},(0,r.mdx)("a",{parentName:"em",href:"/uxp-xd/develop/plugin-development/xd-concepts/edit-context/"},"edit context"),".")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Example")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-js"},'console.log(\n  "There are " + selection.items.length + " nodes currently selected"\n);\nselection.items = [rectangle, ellipse, path]; // select 3 nodes\nselection.items = rectangle; // select 1 node (convenience)\nselection.items = null; // deselect all (convenience)\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Kind"),": instance property of ",(0,r.mdx)("a",{parentName:"p",href:"#selection"},"selection")),(0,r.mdx)("h2",{id:"itemsincludinglocked"},"itemsIncludingLocked"),(0,r.mdx)("p",null,"▸ ",(0,r.mdx)("strong",{parentName:"p"},"itemsIncludingLocked"),": ",(0,r.mdx)("inlineCode",{parentName:"p"},"Array<"),(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/reference/SceneNode"},"SceneNode"),(0,r.mdx)("inlineCode",{parentName:"p"},">")),(0,r.mdx)("p",null,"Array representing the current selection ",(0,r.mdx)("em",{parentName:"p"},"plus")," any locked items that the user has attempted to select."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Example")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-js"},'let numUnlockedSelected = selection.items.length;\nlet numLockedSelected =\n  selection.itemsIncludingLocked.length - numUnlockedSelected;\nconsole.log(\n  "There are " +\n    numLockedSelected +\n    " locked nodes \'sort of\' currently selected"\n);\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Kind"),": instance property of ",(0,r.mdx)("a",{parentName:"p",href:"#selection"},"selection"),"\n",(0,r.mdx)("strong",{parentName:"p"},"Read only"),": true"),(0,r.mdx)("h2",{id:"hasartwork"},"hasArtwork"),(0,r.mdx)("p",null,"▸ ",(0,r.mdx)("strong",{parentName:"p"},"hasArtwork"),": ",(0,r.mdx)("inlineCode",{parentName:"p"},"boolean")),(0,r.mdx)("p",null,"True if the selection isn’t empty and consists of one or more non-Artboards. Never true at the same time as ",(0,r.mdx)("a",{parentName:"p",href:"#hasartboards"},"hasArtboards"),"."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Kind"),": instance property of ",(0,r.mdx)("a",{parentName:"p",href:"#selection"},"selection"),"\n",(0,r.mdx)("strong",{parentName:"p"},"Read only"),": true"),(0,r.mdx)("h2",{id:"hasartboards"},"hasArtboards"),(0,r.mdx)("p",null,"▸ ",(0,r.mdx)("strong",{parentName:"p"},"hasArtboards"),": ",(0,r.mdx)("inlineCode",{parentName:"p"},"boolean")),(0,r.mdx)("p",null,"True if the selection isn’t empty and consists of one or more Artboards. Never true at the same time as ",(0,r.mdx)("a",{parentName:"p",href:"#hasartwork"},"hasArtwork"),"."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Kind"),": instance property of ",(0,r.mdx)("a",{parentName:"p",href:"#selection"},"selection"),"\n",(0,r.mdx)("strong",{parentName:"p"},"Read only"),": true"),(0,r.mdx)("h2",{id:"insertionparent"},"insertionParent"),(0,r.mdx)("p",null,"▸ ",(0,r.mdx)("strong",{parentName:"p"},"insertionParent"),": ",(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/reference/SceneNode"},"SceneNode")),(0,r.mdx)("p",null,'The preferred parent to insert newly added content into. Takes into account the current edit context as well as the "focused artboard" if in the root context.\nTypically this is the same parent where, for example, XD\'s shape drawing tools would add items.'),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Selected items are not necessarily all immediate children of the ",(0,r.mdx)("inlineCode",{parentName:"em"},"insertionParent"),".")," They can be anywhere within the ",(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/plugin-development/xd-concepts/edit-context/"},"edit context's")," scope."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Kind"),": instance property of ",(0,r.mdx)("a",{parentName:"p",href:"#selection"},"selection"),"\n",(0,r.mdx)("strong",{parentName:"p"},"Read only"),": true"),(0,r.mdx)("h2",{id:"focusedartboard"},"focusedArtboard"),(0,r.mdx)("p",null,"▸ ",(0,r.mdx)("strong",{parentName:"p"},"focusedArtboard"),": ?",(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/reference/Artboard"},"Artboard")),(0,r.mdx)("p",null,"The artboard the user is currently most focused on (via recent selection or edit operations). May be null, for example if no artboards exist or if the user just deleted an artboard."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Kind"),": instance property of ",(0,r.mdx)("a",{parentName:"p",href:"#selection"},"selection"),"\n",(0,r.mdx)("strong",{parentName:"p"},"Read only"),": true"),(0,r.mdx)("h2",{id:"editcontext"},"editContext"),(0,r.mdx)("p",null,"▸ ",(0,r.mdx)("strong",{parentName:"p"},"editContext"),": ",(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/reference/SceneNode"},"SceneNode")),(0,r.mdx)("p",null,'The common ancestor node of all selected items - also the root node of the subtree containing the "',(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/plugin-development/xd-concepts/edit-context/"},"edit context"),',"\nwhich is the scope in which selection and edit operations must occur for the current plugin command. The scope does not\nnecessarily cover the entire subtree rooted at the editContext root node -- it may only cover a subset of this tree. See\nedit context documentation page for more details.'),(0,r.mdx)("p",null,"If the user hasn't drilled into any container node, this value is the document root."),(0,r.mdx)("p",null,"The value of ",(0,r.mdx)("inlineCode",{parentName:"p"},"editContext")," does not change while your plugin is running. However, the ",(0,r.mdx)("inlineCode",{parentName:"p"},"editContext")," may change after your plugin\noperation ends:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"If your plugin changes the value of ",(0,r.mdx)("inlineCode",{parentName:"li"},"selection.items")," to include fewer nodes, the edit context may be narrowed."),(0,r.mdx)("li",{parentName:"ul"},"If your plugin has deleted nodes such that the current container is now empty, the edit context will pop up a level and the now-empty\ncontainer is automatically cleaned up.")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Kind"),": instance property of ",(0,r.mdx)("a",{parentName:"p",href:"#selection"},"selection"),"\n",(0,r.mdx)("strong",{parentName:"p"},"Read only"),": true"),(0,r.mdx)("h2",{id:"isineditcontext"},"isInEditContext()"),(0,r.mdx)("p",null,"▸ ",(0,r.mdx)("strong",{parentName:"p"},"isInEditContext"),"(",(0,r.mdx)("inlineCode",{parentName:"p"},"node"),"): ",(0,r.mdx)("inlineCode",{parentName:"p"},"boolean")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Since"),": XD 28"),(0,r.mdx)("p",null,"Returns true if the node is accessible for editing in the scope of the current edit context.\nIf false, the node cannot be edited given the user's current selection.\nNodes that are currently selected are always in the current edit context."),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Param"),(0,r.mdx)("th",{parentName:"tr",align:null},"Type"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"node"),(0,r.mdx)("td",{parentName:"tr",align:null},"SceneNode")))),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Kind"),": instance method of ",(0,r.mdx)("a",{parentName:"p",href:"#selection"},"selection")))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-develop-reference-selection-md-04175ab1bf7f1fd4013e.js.map