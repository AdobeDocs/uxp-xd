(self.webpackChunkuxp_xd=self.webpackChunkuxp_xd||[]).push([[59252],{13794:function(e,t,n){"use strict";n.r(t),n.d(t,{_frontmatter:function(){return l},default:function(){return p}});var a=n(22122),o=n(19756),r=(n(15007),n(64983)),i=n(99536),l={},d={_frontmatter:l},m=i.Z;function p(e){var t=e.components,n=(0,o.Z)(e,["components"]);return(0,r.mdx)(m,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"how-to-debug-your-plugin"},"How to Debug Your Plugin"),(0,r.mdx)("p",null,"Bugs happen! In this tutorial, you will learn how to debug your Adobe XD plugin."),(0,r.mdx)("h3",{id:"prerequisite"},"Prerequisite"),(0,r.mdx)("p",null,"At least one plugin in your ",(0,r.mdx)("inlineCode",{parentName:"p"},"develop")," folder (you can create one using our ",(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/tutorials/quick-start/"},"Quick Start tutorial"),")."),(0,r.mdx)("h3",{id:"debugging-options"},"Debugging Options"),(0,r.mdx)("p",null,"There are two ways you can debug an XD plugin:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"For ",(0,r.mdx)("strong",{parentName:"li"},"quick, simple debugging"),", ",(0,r.mdx)("a",{parentName:"li",href:"#quick-debugging-with-developer-console"},"use the Developer Console built into XD")),(0,r.mdx)("li",{parentName:"ul"},"For ",(0,r.mdx)("strong",{parentName:"li"},"in-depth debugging"),", set up your plugin for ",(0,r.mdx)("a",{parentName:"li",href:"#debugging-with-chrome-devtools-beta"},"debugging with Chrome DevTools")," ",(0,r.mdx)("em",{parentName:"li"},"(beta)"))),(0,r.mdx)("h2",{id:"quick-debugging-with-developer-console"},"Quick debugging with Developer Console"),(0,r.mdx)("h3",{id:"1-check-the-developer-console"},"1. Check the Developer Console"),(0,r.mdx)("p",null,"In XD, click ",(0,r.mdx)("em",{parentName:"p"},"Plugins > Development > Developer Console"),"."),(0,r.mdx)("p",null,"This displays information similar to what you'd find in the JS debugger's console view:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Any ",(0,r.mdx)("inlineCode",{parentName:"li"},"console.log()")," output from your plugin"),(0,r.mdx)("li",{parentName:"ul"},"Any error messages from XD due to plugin misbehavior, or failure to load a plugin"),(0,r.mdx)("li",{parentName:"ul"},"Stack traces if your code throws an uncaught exception")),(0,r.mdx)("p",null,"The console output for ",(0,r.mdx)("em",{parentName:"p"},"all")," installed XD plugins is mixed together in one single view here."),(0,r.mdx)("h3",{id:"2-reload-your-plugin-after-making-fixes"},"2. Reload your plugin after making fixes"),(0,r.mdx)("p",null,"You can easily iterate on your plugin code without heaving to restart XD. Click ",(0,r.mdx)("em",{parentName:"p"},"Plugins > Development > Reload Plugins")," to reload all plugins in your ",(0,r.mdx)("inlineCode",{parentName:"p"},"develop")," folder. This will reflect any changes in ",(0,r.mdx)("a",{parentName:"p",href:"/uxp-xd/develop/plugin-development/plugin-structure/manifest/"},"manifest.json")," in addition to any changes to your JS code."),(0,r.mdx)("p",null,"There's also a handy keyboard shortcut to make reloading easier:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Platform"),(0,r.mdx)("th",{parentName:"tr",align:null},"Keyboard shortcut"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"macOS"),(0,r.mdx)("td",{parentName:"tr",align:null},"Shift-Cmd-R")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Windows"),(0,r.mdx)("td",{parentName:"tr",align:null},"Ctrl-Shift-R")))),(0,r.mdx)("p",null,"If there are any errors blocking the plugin from loading, they will appear in the Developer Console on reload:"),(0,r.mdx)("p",null,(0,r.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,r.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"56.56250000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,r.mdx)("picture",{parentName:"span"},"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/cb523/reload-error.webp 320w","/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/797b9/reload-error.webp 640w","/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/4b075/reload-error.webp 1280w","/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/f3ff0/reload-error.webp 1920w","/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/f85e0/reload-error.webp 2266w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/72799/reload-error.png 320w","/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/6af66/reload-error.png 640w","/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/21b4d/reload-error.png 1280w","/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/29114/reload-error.png 1920w","/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/beade/reload-error.png 2266w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,r.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uxp-xd/static/b09753d4105f81cb3c092c97f4f6bf31/21b4d/reload-error.png",alt:"Error during reload",title:"Error during reload",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,r.mdx)("h2",{id:"debugging-with-chrome-devtools-beta"},"Debugging with Chrome DevTools ",(0,r.mdx)("em",{parentName:"h2"},"(beta)")),(0,r.mdx)("h3",{id:"1-enable-debugging-on-your-plugin"},"1. Enable debugging on your plugin"),(0,r.mdx)("p",null,"Navigate to the root folder of your plugin and ",(0,r.mdx)("strong",{parentName:"p"},"create a ",(0,r.mdx)("inlineCode",{parentName:"strong"},"debug.json")," file"),":"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "port": 9345,\n  "breakOnStart": false\n}\n')),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Debugging is only supported for plugins in the ",(0,r.mdx)("strong",{parentName:"li"},(0,r.mdx)("inlineCode",{parentName:"strong"},"develop")," folder")," (not plugins installed from the Plugin Manager UI)."),(0,r.mdx)("li",{parentName:"ul"},"Specify any port number you want."),(0,r.mdx)("li",{parentName:"ul"},"Advanced: Set ",(0,r.mdx)("inlineCode",{parentName:"li"},"breakOnStart")," to true if you want the debugger to immediately pause on the first line of code in your plugin the moment it starts loading. This is useful since you won't have a chance to open DevTools ",(0,r.mdx)("em",{parentName:"li"},"before")," this moment to set breakpoints before that initial code runs.")),(0,r.mdx)("h3",{id:"2-launch-chrome-devtools"},"2. Launch Chrome DevTools"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Windows only: ",(0,r.mdx)("em",{parentName:"li"},"before")," launching XD, open an admin command prompt and run ",(0,r.mdx)("inlineCode",{parentName:"li"},'CheckNetIsolation LoopbackExempt -is -n="Adobe.CC.XD_adky2gkssdxte"')," -- do this ",(0,r.mdx)("em",{parentName:"li"},"each time")," you want to debug a plugin."),(0,r.mdx)("li",{parentName:"ol"},"Open Google Chrome and navigate to ",(0,r.mdx)("strong",{parentName:"li"},(0,r.mdx)("inlineCode",{parentName:"strong"},"chrome://inspect"))," ",(0,r.mdx)("em",{parentName:"li"},"(you must use Chrome)")),(0,r.mdx)("li",{parentName:"ol"},'One-time setup: ensure "Discover Network Targets" is enabled. Click the Configure button next to this and add ',(0,r.mdx)("inlineCode",{parentName:"li"},"localhost:9345")," (or whatever port number your ",(0,r.mdx)("inlineCode",{parentName:"li"},"debug.json")," file used)."),(0,r.mdx)("li",{parentName:"ol"},'Click the "inspect" link under your plugin\'s ID.')),(0,r.mdx)("h3",{id:"beta-what-works-what-doesnt"},"Beta: What works, what doesn't"),(0,r.mdx)("p",null,"Currently, you ",(0,r.mdx)("strong",{parentName:"p"},"can"),"..."),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Set breakpoints, pause & step through code, inspect the values of variables"),(0,r.mdx)("li",{parentName:"ul"},"View objects and run code in the Console view"),(0,r.mdx)("li",{parentName:"ul"},"View and edit the DOM structure of your plugin's UXP UI")),(0,r.mdx)("p",null,"Most other DevTools features are not supported and may behave erratically if you attempt to use them."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Important caveats:")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"XD may be unstable while debugging a plugin. Don't debug when you have important XD documents open."),(0,r.mdx)("li",{parentName:"ul"},"Error messages are often ",(0,r.mdx)("em",{parentName:"li"},"missing"),' from the DevTools Console. Use the Developer Console within XD (see "Quick debugging" above) to be sure you are not missing any important information.'),(0,r.mdx)("li",{parentName:"ul"},"XD will be partially frozen while paused on a JS breakpoint. Don't try to interact with XD while paused."),(0,r.mdx)("li",{parentName:"ul"},"You may see a blank white panel to the left of the DevTools UI. Ignore this, as it does nothing."),(0,r.mdx)("li",{parentName:"ul"},"If debugging exposes any private fields and methods, do not attempt to use them. Plugins referring to private APIs will be rejected or removed from XD's plugin listing.")),(0,r.mdx)("p",null,"Read the ","[known issues]","(/known-issues/ for more details."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-develop-tutorials-debugging-index-md-b2194e6570231ae295bf.js.map